# 📺 숲토킹 (SOOPtalking) v3.5.19

SOOP(구 아프리카TV) 스트리머 방송 알림 및 녹화 Chrome 확장 프로그램

> **숲토킹** = 숲(SOOP) + 스토킹 🔍 "내가 늘 지켜보고 있어.."

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| **방송 모니터링** | 자동참여(5초) / 알림(30초) 분리 체크 |
| **알림** | 방송 시작/종료 데스크톱 알림 |
| **자동 참여** | 방송 시작 시 자동 탭 열기 (SOOP 제한: 최대 4개) |
| **자동 종료** | 방송 종료 시 탭 자동 닫기 (스트리머별 설정) |
| **원터치 녹화** | 다이얼로그 없이 클릭 한 번으로 녹화 시작/중지 |
| **3단계 녹화 품질** | 원본급(30Mbps) / 고품질(15Mbps) / 표준(8Mbps) 선택 |
| **자동 녹화** | 방송 시작 시 자동 녹화 시작 |
| **안전 저장** | 방송 종료 시 녹화 자동 저장 |
| **자동 분할 녹화** | 500MB 초과 시 자동으로 파일 분할 저장 (각 파트 독립 재생 가능) |
| **다국어 지원** | 한국어, 영어, 일본어, 중국어(간체/번체) |

---

## 📥 설치 방법

### Chrome 웹스토어 (권장)
[Chrome 웹스토어](https://chromewebstore.google.com/detail/bmmihbljmhbmhkijinicehdbjlinalfi)에서 "숲토킹" 검색 후 설치

### 수동 설치
1. [GitHub에서 다운로드](https://github.com/musickiss/soop-streamer-alert/archive/refs/heads/master.zip) 후 압축 해제
2. `chrome://extensions/` 접속 → 개발자 모드 ON
3. "압축해제된 확장 프로그램을 로드합니다" → 폴더 선택

---

## 🎮 사용 방법

### 기본 사용
1. **확장 아이콘 클릭** → Side Panel 열기
2. **스트리머 ID 추가** (예: `streamer123`)
3. **모니터링 ON** → 방송 감지 시작

### 녹화 사용
1. SOOP 방송 페이지 접속
2. Side Panel의 "현재 시청 중" 섹션에서 **녹화 품질 선택**
3. 카드에서 **🔴 녹화 시작** 클릭
4. 녹화 중지 또는 방송 종료 시 자동 저장

### 녹화 파일 저장 위치
```
다운로드/SOOPtalking/soop_{스트리머ID}_{타임스탬프}_{품질}.webm
분할 시: soop_{스트리머ID}_{타임스탬프}_{품질}_part1.webm, _part2.webm, ...

예시:
  soop_streamer123_20260103_143052_ultra.webm      (원본급)
  soop_streamer123_20260103_143052_high.webm       (고품질)
  soop_streamer123_20260103_143052_std_part1.webm  (표준, 분할)
```

### 녹화 품질 설정 (v3.5.9+)
| 설정 | 코덱 | 비트레이트 | FPS | 파일 크기 | 권장 동시 녹화 |
|------|------|------------|-----|-----------|----------------|
| **원본급 (Ultra)** | VP9 | 30 Mbps | 60fps | ~13GB/시간 | 1개 |
| **고품질 (High)** | VP9 | 15 Mbps | 60fps | ~6.5GB/시간 | 1~2개 |
| **표준 (Standard)** | VP8 | 8 Mbps | 30fps | ~3.5GB/시간 | 2~3개 |

> **참고:** 원본급(30Mbps)이 기본값입니다. 실시간 녹화에 최적화된 VP9/VP8 코덱을 사용합니다.

### 녹화 품질 참고
| 상태 | 품질 |
|------|------|
| 활성 탭 (권장) | 원본 화질 유지 |
| 백그라운드 탭 | 프레임 드랍 가능 |
| Side Panel 닫힘 | 녹화 계속 유지 |
| 방송 종료 | 자동 저장 (녹화 손실 방지) |

---

## ⚠️ 주의사항

### SOOP 동시 시청 제한
- SOOP은 최대 **4개 탭** 동시 시청 허용
- 4개 초과 시 자동참여 대신 알림만 표시

### 권장 스트리머 등록 수
- ✅ 1~10명: 안전
- ⚠️ 11~20명: 주의
- ❌ 21명 이상: 권장하지 않음 (API 호출 과다)

### ⚖️ 저작권 안내
- 녹화 콘텐츠의 저작권은 **스트리머 및 SOOP**에 있습니다.
- **개인적 시청 목적**으로만 사용하십시오.
- 재배포, 상업적 이용, 무단 공유는 **저작권법 위반**입니다.

---

## 🛠️ 기술 스택

| 기술 | 용도 |
|------|------|
| Chrome Extension Manifest V3 | 확장 프로그램 플랫폼 |
| Side Panel API | UI 인터페이스 |
| Canvas captureStream() | 비디오 스트림 캡처 |
| MediaRecorder API (VP9/VP8) | 녹화 처리 |
| Downloads API | 파일 저장 |
| Service Worker | 백그라운드 모니터링 |

---

## 📋 버전 히스토리

| 버전 | 주요 변경 |
|------|-----------|
| **v3.5.19** | 녹화 품질 드롭다운 다국어 지원, Mbps 표시 제거 |
| v3.5.18 | 자동 녹화 품질 설정 통합 - 수동/자동 녹화 품질 통일, 품질 안내 툴팁 추가 |
| v3.5.17 | 자동 녹화 재시도 로직 개선 - 불필요한 재시도 방지 |
| v3.5.16 | 자동 녹화 즉시 종료 버그 수정 - 비디오 상태 체크 완화, 자동재생 시도, 대기 시간 증가 |
| v3.5.15 | Progress 쓰로틀링 (15초) - Storage 쓰기 66% 감소, onStartup 초기화 강화 |
| v3.5.14 | Storage 기반 녹화 상태 영속화 - Extension 새로고침/Service Worker 재시작 시에도 UI 유지 |
| v3.5.13 | 다국어 누락 키 추가 (recording, noRecordings) |
| v3.5.12 | 닉네임 자동 업데이트, 방송국 바로가기 (아바타 클릭) |
| v3.5.11 | 녹화 파일명에 품질 정보(ultra/high/std) 추가 |
| v3.5.10 | 방송 종료 시 녹화 안전 저장 시스템 (Promise 기반 저장 완료 대기) |
| v3.5.9 | VP9 기반 3단계 품질 설정 (원본급 30Mbps / 고품질 15Mbps / 표준 8Mbps), AV1 제거 |
| v3.5.8.3 | MediaRecorder 분할 안정성 강화, Canvas 스트림 유효성 검증, 분할 대기 무한 루프 방지 |
| v3.5.8.2 | MediaRecorder 재시작 분할 (각 파트 독립 재생 보장) |
| v3.5.8.1 | Canvas 녹화 안정성 개선, 오디오 연결 재사용 |
| v3.5.8 | Canvas 기반 녹화 방식 전환, AV1 코덱 기본값 (이후 v3.5.9에서 VP9로 변경) |
| v3.5.6 | Content Script 자동 주입 |
| v3.5.3 | 분할 녹화 재생 호환성 수정, 코드 일관성 개선 |
| v3.5.2 | 사이드패널 리사이즈 가능한 레이아웃 |
| v3.5.1 | Blob URL 타임아웃 연장 (대용량 파일 안정성) |
| v3.5.0 | 500MB 자동 분할 녹화 기능 |
| v3.4.9 | 방송 종료 시 녹화 안전 저장 (autoClose 무관) |
| v3.4.8 | 녹화 화질 안내박스 동적 표시 |
| v3.4.7 | 스트리머별 자동 종료 기능, VOD 리다이렉트 감지 |
| v3.4.6 | 녹화 화질 툴팁 개선 |
| v3.4.5 | 녹화 화질 선택 기능 (고사양/저사양) |
| v3.4.4 | 아코디언 확장 상태 유지, UI 안정화 |
| v3.4.3 | 툴팁 위치 수정 |
| v3.4.0 | Downloads API 기반 녹화 안정화 |
| v3.2.x | Side Panel UI, 드래그앤드롭 |
| v1.7.x | 다국어 지원, 알림 기능 |

---

## 🔒 개인정보 보호

- ❌ 개인정보 수집 없음
- ❌ 외부 서버 전송 없음
- ✅ 모든 데이터 로컬 저장
- ✅ SOOP 공식 API만 사용

자세한 내용은 [개인정보처리방침](PRIVACY.md)을 참조하세요.

---

## 📄 면책 조항

- 본 확장프로그램은 개인 사용 목적으로 제작되었습니다.
- SOOP 서비스 약관 또는 API 변경으로 작동이 중단될 수 있습니다.
- 녹화 기능 사용으로 인한 저작권 문제에 대해 개발자는 책임지지 않습니다.
- 과도한 사용으로 인한 계정 제재에 대해 개발자는 책임지지 않습니다.

---

## 💬 문의

- [GitHub Issues](https://github.com/musickiss/soop-streamer-alert/issues)
- [SOOP 스테이션](https://www.sooplive.co.kr/station/teamilh)
