# 📺 숲토킹 (SOOPtalking) v3.6.0

SOOP(구 아프리카TV) 스트리머 방송 알림 및 녹화 Chrome 확장 프로그램

> **숲토킹** = 숲(SOOP) + 스토킹 🔍 "내가 늘 지켜보고 있어.."

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| **방송 모니터링** | 자동참여(5초) / 알림(30초) 분리 체크 |
| **알림** | 방송 시작/종료 데스크톱 알림 |
| **자동 참여** | 방송 시작 시 자동 탭 열기 (SOOP 제한: 최대 4개) |
| **자동 종료** | 방송 종료 시 탭 자동 닫기 (스트리머별 설정) |
| **스트리머 관리** | 드래그앤드롭으로 순서 변경, 아바타 클릭으로 방송국 바로가기 |
| **원터치 녹화** | 다이얼로그 없이 클릭 한 번으로 녹화 시작/중지 |
| **3단계 녹화 품질** | 원본급(30Mbps) / 고품질(15Mbps) / 표준(8Mbps) 선택 |
| **자동 녹화** | 방송 시작 시 자동 녹화 시작 (품질 설정 연동) |
| **안전 저장** | 방송 종료 시 녹화 자동 저장 |
| **자동 분할 녹화** | 500MB 초과 시 자동으로 파일 분할 저장 (각 파트 독립 재생 가능) |
| **다국어 지원** | 한국어, 영어, 일본어, 중국어(간체/번체) |

---

## 📥 설치 방법

### Chrome 웹스토어 (권장)
[Chrome 웹스토어](https://chromewebstore.google.com/detail/bmmihbljmhbmhkijinicehdbjlinalfi)에서 "숲토킹" 검색 후 설치

### 수동 설치
1. [GitHub에서 다운로드](https://github.com/musickiss/soop-streamer-alert/archive/refs/heads/master.zip) 후 압축 해제
2. `chrome://extensions/` 접속 → 개발자 모드 ON
3. "압축해제된 확장 프로그램을 로드합니다" → 폴더 선택

---

## 🎮 사용 방법

### 기본 사용
1. **확장 아이콘 클릭** → Side Panel 열기
2. **스트리머 ID 추가** (예: `streamer123`)
3. **모니터링 ON** → 방송 감지 시작

### 녹화 사용
1. SOOP 방송 페이지 접속
2. Side Panel의 "현재 시청 중" 섹션에서 **녹화 품질 선택**
3. 카드에서 **🔴 녹화 시작** 클릭
4. 녹화 중지 또는 방송 종료 시 자동 저장

### 녹화 파일 저장 위치
```
다운로드/SOOPtalking/soop_{스트리머ID}_{타임스탬프}_{품질}.webm
분할 시: soop_{스트리머ID}_{타임스탬프}_{품질}_part1.webm, _part2.webm, ...

예시:
  soop_streamer123_20260103_143052_ultra.webm      (원본급)
  soop_streamer123_20260103_143052_high.webm       (고품질)
  soop_streamer123_20260103_143052_std_part1.webm  (표준, 분할)
```

### 녹화 품질 설정 (v3.5.9+)
| 설정 | 코덱 | 비트레이트 | FPS | 파일 크기 | 권장 동시 녹화 |
|------|------|------------|-----|-----------|----------------|
| **원본급 (Ultra)** | VP9 | 30 Mbps | 60fps | ~13GB/시간 | 1개 |
| **고품질 (High)** | VP9 | 15 Mbps | 60fps | ~6.5GB/시간 | 1~2개 |
| **표준 (Standard)** | VP8 | 8 Mbps | 30fps | ~3.5GB/시간 | 2~3개 |

> **참고:** 원본급(30Mbps)이 기본값입니다. 실시간 녹화에 최적화된 VP9/VP8 코덱을 사용합니다.

### 녹화 품질 참고
| 상태 | 품질 |
|------|------|
| 활성 탭 (권장) | 원본 화질 유지 |
| 백그라운드 탭 | 프레임 드랍 가능 |
| Side Panel 닫힘 | 녹화 계속 유지 |
| 방송 종료 | 자동 저장 (녹화 손실 방지) |

---

## ⚠️ 주의사항

### SOOP 동시 시청 제한
- SOOP은 최대 **4개 탭** 동시 시청 허용
- 4개 초과 시 자동참여 대신 알림만 표시

### 권장 스트리머 등록 수
- ✅ 1~10명: 안전
- ⚠️ 11~20명: 주의
- ❌ 21명 이상: 권장하지 않음 (API 호출 과다)

### ⚖️ 저작권 안내
- 녹화 콘텐츠의 저작권은 **스트리머 및 SOOP**에 있습니다.
- **개인적 시청 목적**으로만 사용하십시오.
- 재배포, 상업적 이용, 무단 공유는 **저작권법 위반**입니다.

---

## 🛠️ 기술 스택

| 기술 | 용도 |
|------|------|
| Chrome Extension Manifest V3 | 확장 프로그램 플랫폼 |
| Side Panel API | UI 인터페이스 |
| Canvas captureStream() | 비디오 스트림 캡처 |
| MediaRecorder API (VP9/VP8) | 녹화 처리 |
| Downloads API | 파일 저장 |
| Service Worker | 백그라운드 모니터링 |

---

## 📋 버전 히스토리

### 최근 업데이트

| 버전 | 주요 변경 |
|------|-----------|
| **v3.6.0** | GA4 익명 통계 수집 기능 추가 (옵트아웃 가능) |
| v3.5.26 | 버전 정보 동적화 - 하드코딩된 버전 문자열 제거 |
| v3.5.25 | 로깅 레벨 정리 및 에러 처리 개선 |
| v3.5.24 | 녹화 상태 새로고침 버그 수정 (4중 안전장치) |
| v3.5.23 | 스트리머 가져오기 autoClose 설정 복원 수정 |
| v3.5.22 | 녹화 데이터 손실 경고 문구 추가 (다국어 지원) |
| v3.5.21 | 코드 정리: 버전 주석 통일, 녹화 품질 옵션 다국어 지원 |

### 주요 릴리즈

| 버전 | 주요 변경 |
|------|-----------|
| v3.6.x | GA4 익명 통계 수집, 사용자 옵트아웃 지원 |
| v3.5.x | Canvas 기반 녹화, VP9 3단계 품질, 500MB 자동 분할, 안전 저장 |
| v3.4.x | Downloads API 녹화, 스트리머별 자동 종료, 녹화 품질 선택 |
| v3.2.x | Side Panel UI, 드래그앤드롭 스트리머 순서 변경 |
| v1.7.x | 다국어 지원, 데스크톱 알림 |

---

## 🔒 개인정보 보호

- ✅ 익명 사용 통계만 수집 (GA4)
- ❌ 개인 식별 정보 수집 없음
- ✅ 모든 스트리머/설정 데이터 로컬 저장
- ✅ SOOP 공식 API만 사용
- ✅ 통계 수집 비활성화 가능 (설정에서 언제든 OFF)

자세한 내용은 [개인정보처리방침](PRIVACY.md)을 참조하세요.

---

## 📄 면책 조항

- 본 확장프로그램은 개인 사용 목적으로 제작되었습니다.
- SOOP 서비스 약관 또는 API 변경으로 작동이 중단될 수 있습니다.
- 녹화 기능 사용으로 인한 저작권 문제에 대해 개발자는 책임지지 않습니다.
- 과도한 사용으로 인한 계정 제재에 대해 개발자는 책임지지 않습니다.

---

## 💬 문의

- [GitHub Issues](https://github.com/musickiss/soop-streamer-alert/issues)
- [SOOP 스테이션](https://www.sooplive.co.kr/station/teamilh)
