# 📺 숲토킹 (SOOPtalking) v3.7.2

SOOP(구 아프리카TV) 스트리머 방송 알림 및 녹화 Chrome 확장 프로그램

> **숲토킹** = 숲(SOOP) + 스토킹 🔍 "내가 늘 지켜보고 있어.."

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| **방송 모니터링** | 자동참여(5초) / 알림(30초) 분리 체크 |
| **알림** | 방송 시작/종료 데스크톱 알림 |
| **자동 참여** | 방송 시작 시 자동 탭 열기 (SOOP 제한: 최대 4개) |
| **자동 종료** | 방송 종료 시 탭 자동 닫기 (스트리머별 설정) |
| **스트리머 관리** | 드래그앤드롭으로 순서 변경, 아바타 클릭으로 방송국 바로가기 |
| **원터치 녹화** | 다이얼로그 없이 클릭 한 번으로 녹화 시작/중지 |
| **고품질 녹화** | 6Mbps H.264 코덱 (약 2.7GB/시간) |
| **자동 녹화** | 방송 시작 시 자동 녹화 시작 |
| **동시 녹화 제한** | 최대 4개 동시 녹화 (SOOP 플랫폼 제한 반영) |
| **안전 저장** | 방송 종료 시 녹화 자동 저장 |
| **자동 분할 녹화** | 500MB/1GB/2GB 단위 자동 분할 저장 |
| **다국어 지원** | 한국어, 영어, 일본어, 중국어(간체/번체) |

---

## 📥 설치 방법

### Chrome 웹스토어 (권장)
[Chrome 웹스토어](https://chromewebstore.google.com/detail/bmmihbljmhbmhkijinicehdbjlinalfi)에서 "숲토킹" 검색 후 설치

### 수동 설치
1. [GitHub에서 다운로드](https://github.com/musickiss/soop-streamer-alert/archive/refs/heads/master.zip) 후 압축 해제
2. `chrome://extensions/` 접속 → 개발자 모드 ON
3. "압축해제된 확장 프로그램을 로드합니다" → 폴더 선택

---

## 🎮 사용 방법

### 기본 사용
1. **확장 아이콘 클릭** → Side Panel 열기
2. **스트리머 ID 추가** (예: `streamer123`)
3. **모니터링 ON** → 방송 감지 시작

### 녹화 사용
1. SOOP 방송 페이지 접속
2. Side Panel의 "현재 시청 중" 섹션 확인
3. **분할 크기 선택** (500MB / 1GB / 2GB)
4. **🔴 녹화 시작** 클릭
5. 녹화 중지 또는 방송 종료 시 자동 저장

### 녹화 파일 저장 위치
```
다운로드/SOOPtalking/soop_{스트리머ID}_{타임스탬프}.webm
분할 시: soop_{스트리머ID}_{타임스탬프}_part1.webm, _part2.webm, ...

예시:
  soop_streamer123_20260107_143052.webm
  soop_streamer123_20260107_143052_part1.webm (분할)
```

### 녹화 품질 (v3.7.0+)
| 항목 | 값 |
|------|-----|
| 코덱 | H.264 (하드웨어 가속) |
| 비트레이트 | 6 Mbps |
| FPS | 60fps (백그라운드 ~30fps) |
| 파일 크기 | 약 2.7GB/시간 |
| 동시 녹화 | 최대 4개 |

### 녹화 품질 참고
| 상태 | 품질 |
|------|------|
| 활성 탭 (권장) | 60fps 원본 화질 |
| 백그라운드 탭 | ~30fps (Keep-Alive로 개선) |
| Side Panel 닫힘 | 녹화 계속 유지 |
| 방송 종료 | 자동 저장 (녹화 손실 방지) |

---

## ⚠️ 주의사항

### SOOP 동시 시청 제한
- SOOP은 최대 **4개 탭** 동시 시청 허용
- 4개 초과 시 자동참여 대신 알림만 표시
- 녹화도 최대 4개까지 동시 진행 가능

### 권장 스트리머 등록 수
- ✅ 1~10명: 안전
- ⚠️ 11~20명: 주의
- ❌ 21명 이상: 권장하지 않음 (API 호출 과다)

### ⚖️ 저작권 안내
- 녹화 콘텐츠의 저작권은 **스트리머 및 SOOP**에 있습니다.
- **개인적 시청 목적**으로만 사용하십시오.
- 재배포, 상업적 이용, 무단 공유는 **저작권법 위반**입니다.

---

## 🛠️ 기술 스택

| 기술 | 용도 |
|------|------|
| Chrome Extension Manifest V3 | 확장 프로그램 플랫폼 |
| Side Panel API | UI 인터페이스 |
| Canvas captureStream(0) + requestFrame() | 프레임 동기화 캡처 |
| MediaRecorder API (H.264) | 녹화 처리 |
| requestAnimationFrame | 프레임 드로잉 |
| Downloads API | 파일 저장 |
| Service Worker | 백그라운드 모니터링 |

---

## 📋 버전 히스토리

### 최근 업데이트

| 버전 | 주요 변경 |
|------|-----------|
| **v3.7.2** | 최대 4개 동시 녹화 제한, 버전 표기 통일 |
| **v3.7.1** | 비트레이트 6Mbps 상향, 녹화 버튼 깜빡임 수정 |
| **v3.7.0** | 단일 품질(H.264), requestAnimationFrame 프레임 동기화, Keep-Alive 백그라운드 개선 |
| v3.6.7 | 새로고침 취소 시에도 녹화가 리셋되던 버그 수정 |
| v3.6.6 | 분할 크기 설정이 녹화에 적용되지 않던 버그 수정 |

### 주요 릴리즈

| 버전 | 주요 변경 |
|------|-----------|
| v3.7.x | 단일 품질 H.264, rAF 프레임 동기화, 동시 녹화 제한 |
| v3.6.x | GA4 익명 통계 수집, 분할 크기 설정 |
| v3.5.x | Canvas 기반 녹화, VP9 3단계 품질, 500MB 자동 분할, 안전 저장 |
| v3.4.x | Downloads API 녹화, 스트리머별 자동 종료, 녹화 품질 선택 |
| v3.2.x | Side Panel UI, 드래그앤드롭 스트리머 순서 변경 |

---

## 🔒 개인정보 보호

- ✅ 익명 사용 통계만 수집 (GA4)
- ❌ 개인 식별 정보 수집 없음
- ✅ 모든 스트리머/설정 데이터 로컬 저장
- ✅ SOOP 공식 API만 사용

자세한 내용은 [개인정보처리방침](PRIVACY.md)을 참조하세요.

---

## 📄 면책 조항

- 본 확장프로그램은 개인 사용 목적으로 제작되었습니다.
- SOOP 서비스 약관 또는 API 변경으로 작동이 중단될 수 있습니다.
- 녹화 기능 사용으로 인한 저작권 문제에 대해 개발자는 책임지지 않습니다.
- 과도한 사용으로 인한 계정 제재에 대해 개발자는 책임지지 않습니다.

---

## 📜 라이선스

이 프로젝트는 [MIT License](LICENSE)로 배포됩니다.

---

## 💬 문의

- [GitHub Issues](https://github.com/musickiss/soop-streamer-alert/issues)
- [SOOP 스테이션](https://www.sooplive.co.kr/station/teamilh)
